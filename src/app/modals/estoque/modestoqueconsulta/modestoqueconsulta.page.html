<ion-header mode='ios'>
  <ion-toolbar>
    <ion-title color='primary'>Consulta de produtos</ion-title>
  </ion-toolbar>
</ion-header>
<ion-fab vertical="top" horizontal="start" slot="fixed" >
  <ion-fab-button (click)="closeModal()" color="secondary">
    <ion-icon name="close-outline"></ion-icon>
  </ion-fab-button>
</ion-fab>

<ion-content>

  <ion-toolbar mode='ios' style="margin-top: 20px;">
    <ion-searchbar animated placeholder="Pesquisar" (ionCancel)='searchClear($event)' (keyup)="contatoSearch($event)"></ion-searchbar>
  </ion-toolbar>
  <ion-list *ngIf="!filtered.length" >
    <ion-item>
      <ion-avatar slot="start">
        <ion-skeleton-text animated></ion-skeleton-text>
      </ion-avatar>
      <ion-label>
        <h3>
          <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
        </h3>
        <p>
          <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
        </p>
        <p>
          <ion-skeleton-text animated style="width: 30%"></ion-skeleton-text>
        </p>
      </ion-label>
    </ion-item>
  </ion-list>

  <ion-list *ngFor="let item of filtered; let i = id" style="padding: 0 !important;" >
    <ion-item-sliding #i style="padding: 0 !important;">
      
      <ion-item  mode='ios'  detail='false'  (click)="i.open();" button style="padding: 0 !important;" >
        <ion-label>
          <p><strong>{{ item.descricaoCurta | uppercase }}</strong></p>
          <p>
            SKU {{ item.sku }}
          </p>
          <p>
            {{ item.sku }}  {{ item.vrVenda | currency:'BRL':true:'1.2-2' }}
          </p>
        </ion-label>
        
      </ion-item>
      <ion-item-options side="end">
        <ion-item-option color='success' (click)="selecionar(item)">Selecionar</ion-item-option>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>


</ion-content>
